!function(c){var d=function(a,b){this.$element=c(a);this.options=c.extend({},c.fn.spinner.defaults,b);this.$input=this.$element.find(".spinner-input");this.$element.on("keyup",this.$input,c.proxy(this.change,this));if(this.options.hold){this.$element.on("mousedown",".spinner-up",c.proxy(function(){this.startSpin(true)},this));this.$element.on("mouseup",".spinner-up, .spinner-down",c.proxy(this.stopSpin,this));this.$element.on("mouseout",".spinner-up, .spinner-down",c.proxy(this.stopSpin,this));this.$element.on("mousedown",".spinner-down",c.proxy(function(){this.startSpin(false)},this))}else{this.$element.on("click",".spinner-up",c.proxy(function(){this.step(true)},this));this.$element.on("click",".spinner-down",c.proxy(function(){this.step(false)},this))}this.switches={count:1,enabled:true};if(this.options.speed==="medium"){this.switches.speed=300}else{if(this.options.speed==="fast"){this.switches.speed=100}else{this.switches.speed=500}}this.lastValue=null;this.render();if(this.options.disabled){this.disable()}};d.prototype={constructor:d,render:function(){var a=this.$input.val();if(a){this.value(a)}else{this.$input.val(this.options.value)}this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var a=this.$input.val();if(a/1){this.options.value=a/1}else{a=a.replace(/[^0-9]/g,"");this.$input.val(a);this.options.value=a/1}this.triggerChangedEvent()},stopSpin:function(){clearTimeout(this.switches.timeout);this.switches.count=1;this.triggerChangedEvent()},triggerChangedEvent:function(){var a=this.value();if(a===this.lastValue){return}this.lastValue=a;this.$element.trigger("changed",a);this.$element.trigger("change")},startSpin:function(b){if(!this.options.disabled){var a=this.switches.count;if(a===1){this.step(b);a=1}else{if(a<3){a=1.5}else{if(a<8){a=2.5}else{a=4}}}this.switches.timeout=setTimeout(c.proxy(function(){this.iterator(b)},this),this.switches.speed/a);this.switches.count++}},iterator:function(a){this.step(a);this.startSpin(a)},step:function(i){var a=this.options.value;var b=i?this.options.max:this.options.min;if((i?a<b:a>b)){var j=a+(i?1:-1)*this.options.step;if(i?j>b:j<b){this.value(b)}else{this.value(j)}}else{if(this.options.cycle){var h=i?this.options.min:this.options.max;this.value(h)}}},value:function(a){if(!isNaN(parseFloat(a))&&isFinite(a)){a=parseFloat(a);this.options.value=a;this.$input.val(a);return this}else{return this.options.value}},disable:function(){this.options.disabled=true;this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=false;this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")}};c.fn.spinner=function(g,a){var b;var h=this.each(function(){var e=c(this);var f=e.data("spinner");var j=typeof g==="object"&&g;if(!f){e.data("spinner",(f=new d(this,j)))}if(typeof g==="string"){b=f[g](a)}});return(b===undefined)?h:b};c.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:true,speed:"medium",disabled:false};c.fn.spinner.Constructor=d;c(function(){c("body").on("mousedown.spinner.data-api",".spinner",function(){var a=c(this);if(a.data("spinner")){return}a.spinner(a.data())})})}(window.jQuery);