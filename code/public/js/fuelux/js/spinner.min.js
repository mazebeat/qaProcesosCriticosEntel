!function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.spinner.defaults,c);this.$input=this.$element.find(".spinner-input");this.$element.on("keyup",this.$input,b.proxy(this.change,this));if(this.options.hold){this.$element.on("mousedown",".spinner-up",b.proxy(function(){this.startSpin(true)},this));this.$element.on("mouseup",".spinner-up, .spinner-down",b.proxy(this.stopSpin,this));this.$element.on("mouseout",".spinner-up, .spinner-down",b.proxy(this.stopSpin,this));this.$element.on("mousedown",".spinner-down",b.proxy(function(){this.startSpin(false)},this))}else{this.$element.on("click",".spinner-up",b.proxy(function(){this.step(true)},this));this.$element.on("click",".spinner-down",b.proxy(function(){this.step(false)},this))}this.switches={count:1,enabled:true};if(this.options.speed==="medium"){this.switches.speed=300}else{if(this.options.speed==="fast"){this.switches.speed=100}else{this.switches.speed=500}}this.lastValue=null;this.render();if(this.options.disabled){this.disable()}};a.prototype={constructor:a,render:function(){var c=this.$input.val();if(c){this.value(c)}else{this.$input.val(this.options.value)}this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var c=this.$input.val();if(c/1){this.options.value=c/1}else{c=c.replace(/[^0-9]/g,"");this.$input.val(c);this.options.value=c/1}this.triggerChangedEvent()},stopSpin:function(){clearTimeout(this.switches.timeout);this.switches.count=1;this.triggerChangedEvent()},triggerChangedEvent:function(){var c=this.value();if(c===this.lastValue){return}this.lastValue=c;this.$element.trigger("changed",c);this.$element.trigger("change")},startSpin:function(c){if(!this.options.disabled){var d=this.switches.count;if(d===1){this.step(c);d=1}else{if(d<3){d=1.5}else{if(d<8){d=2.5}else{d=4}}}this.switches.timeout=setTimeout(b.proxy(function(){this.iterator(c)},this),this.switches.speed/d);this.switches.count++}},iterator:function(c){this.step(c);this.startSpin(c)},step:function(d){var g=this.options.value;var f=d?this.options.max:this.options.min;if((d?g<f:g>f)){var c=g+(d?1:-1)*this.options.step;if(d?c>f:c<f){this.value(f)}else{this.value(c)}}else{if(this.options.cycle){var e=d?this.options.min:this.options.max;this.value(e)}}},value:function(c){if(!isNaN(parseFloat(c))&&isFinite(c)){c=parseFloat(c);this.options.value=c;this.$input.val(c);return this}else{return this.options.value}},disable:function(){this.options.disabled=true;this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=false;this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")}};b.fn.spinner=function(d,f){var e;var c=this.each(function(){var i=b(this);var h=i.data("spinner");var g=typeof d==="object"&&d;if(!h){i.data("spinner",(h=new a(this,g)))}if(typeof d==="string"){e=h[d](f)}});return(e===undefined)?c:e};b.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:true,speed:"medium",disabled:false};b.fn.spinner.Constructor=a;b(function(){b("body").on("mousedown.spinner.data-api",".spinner",function(){var c=b(this);if(c.data("spinner")){return}c.spinner(c.data())})})}(window.jQuery);